<nav class="sidenav navbar navbar-vertical fixed-left navbar-expand-xs navbar-light bg-white" id="sidenav-main">
  <div class="scrollbar-inner">
    <!-- Add toggle button inside the sidenav -->
    <button id="sidenavToggle" class="btn btn-link position-absolute d-md-none" style="top: 10px; right: 10px;">
      <i class="fas fa-bars"></i>
    </button>
    
    <div class="sidenav-header align-items-center">
      <a class="navbar-brand" href="/">
        <img src="/static/assets/img/brand/blue.png" class="navbar-brand-img" alt="Cybersecurity Assessment Tool">
      </a>
    </div>
    <div class="navbar-inner">
      <div class="collapse navbar-collapse" id="sidenav-collapse-main">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="ni ni-tv-2 text-primary"></i>
              <span class="nav-link-text">Dashboard</span>
            </a>
          </li>
          <hr class="my-3 hr-lg ">
          <li class="nav-item">
            <a class="nav-link" href="{%url 'take_assessment'%}">
              <i class="ni ni-bullet-list-67 text-default"></i>
              <span class="nav-link-text">Assessment</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="{%url 'assessment_result'%}">
              <i class="ni ni-chart-bar-32 text-primary"></i>
              <span class="nav-link-text">Results</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{%url 'assessment_history'%}">
              <i class="fa-solid fa-clock-rotate-left"></i>
              <span class="nav-link-text">History</span>
            </a>
          </li>
         
          <li class="nav-item">
            <a class="nav-link" href="{%url 'authentication:profile'%}">
              <i class="ni ni-single-02 text-yellow"></i>
              <span class="nav-link-text">Profile</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a class="nav-link" href="{% url 'authentication:logout' %}">
              <i class="ni ni-user-run text-red"></i>
              <span class="nav-link-text">Logout</span>
            </a>
          </li> 
          <!-- Rest of your navigation items -->
        </ul>
        <hr class="my-3 hr-lg border-dark">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active active-pro" target="_blank" href="http://milimatechnologies.com">
              <i class="ni ni-send text-dark"></i>
              <span class="nav-link-text">Milima Security</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<style>
  @media (max-width: 767.98px) {
    .sidenav {
      width: 250px;
      left: -250px;
      transition: left 0.3s ease-in-out;
    }
    .sidenav.show {
      left: 0;
    }
    .main-content {
      margin-left: 0 !important;
    }
  }
  
  /* Ensure the toggle button is always visible */
  #sidenavToggle {
    z-index: 1050;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var sidenavToggle = document.getElementById('sidenavToggle');
    var sidenav = document.getElementById('sidenav-main');

    sidenavToggle.addEventListener('click', function(event) {
      event.preventDefault();
      sidenav.classList.toggle('show');
    });

    // Close sidenav when clicking outside of it
    document.addEventListener('click', function(event) {
      var isClickInside = sidenav.contains(event.target) || sidenavToggle.contains(event.target);
      if (!isClickInside && sidenav.classList.contains('show')) {
        sidenav.classList.remove('show');
      }
    });
  });
</script>